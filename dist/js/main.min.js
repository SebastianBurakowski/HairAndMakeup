var aboutSection,sectionImg,sectionTitle,sectionText,heroSection,heroVideos,accordeon,accordeonBtns,accordeonElements,portfolioSection,portfolioTitle,reviewSection,reviewTitle,reviewImg,offerSection,offerTitle,navMobile,navMobileEl,burgerBtn,burgerBars,prepareDomElements=function(){accordeon=document.querySelector(".acordeon"),accordeonBtns=document.querySelectorAll(".acordeon-btn"),accordeonElements=document.querySelectorAll(".acordeon-info"),aboutSection=document.querySelector(".about"),sectionImg=document.querySelector(".about__img"),sectionTitle=document.querySelector(".about__heading"),sectionText=document.querySelector(".about__text"),heroSection=document.querySelector(".hero"),heroVideos=document.querySelectorAll(".hero__video"),portfolioSection=document.querySelector(".portfolio"),portfolioTitle=document.querySelector(".portfolio__title"),reviewSection=document.querySelector(".review"),reviewTitle=document.querySelector(".review__title--desktop"),reviewImg=document.querySelector(".review__img"),offerSection=document.querySelector(".offers__desktop"),offerTitle=document.querySelector(".offers__title-desktop"),navMobile=document.querySelector(".nav__mobile"),burgerBtn=document.querySelector(".burger-btn"),navMobileEl=document.querySelectorAll(".nav__item--mobile"),burgerBars=document.querySelector(".burger-btn__bars")},windowHeight=window.innerHeight,handleBurger=function(){burgerBtn.classList.toggle("burger-active")},handleColorBurger=function(){scrollY>=windowHeight+60?burgerBars.classList.add("black-bars-color"):burgerBars.classList.remove("black-bars-color")},showNav=function(){navMobile.classList.toggle("navActive")},handleCloseNavMobile=function(){navMobile.classList.remove("navActive"),burgerBtn.classList.remove("burger-active")};function ShowAccordeon(){this.nextElementSibling.classList.contains("activeAcordeon")?(this.nextElementSibling.classList.remove("activeAcordeon"),this.querySelector(".acordeon-span").textContent="+"):(closeAllAccordion(),this.nextElementSibling.classList.toggle("activeAcordeon"),this.querySelector(".acordeon-span").textContent="-")}var closeAllAccordion=function(){accordeonElements.forEach(function(e){e.classList.remove("activeAcordeon")}),document.querySelectorAll(".acordeon-btn").forEach(function(e){e.querySelector(".acordeon-span").textContent="+"})},handleShowAbout=function(){aboutSection.getBoundingClientRect().top<=.6*windowHeight?(sectionImg.classList.add("activeAnimation"),sectionTitle.classList.add("activeAnimation"),sectionText.classList.add("activeAnimation")):(sectionImg.classList.remove("activeAnimation"),sectionTitle.classList.remove("activeAnimation"),sectionText.classList.remove("activeAnimation"))},handleShowHero=function(){heroSection.getBoundingClientRect().top<=.7*windowHeight?heroVideos.forEach(function(e){e.classList.add("activeVideo")}):heroVideos.forEach(function(e){e.classList.remove("activeVideo")})},handlePortfolio=function(){portfolioSection.getBoundingClientRect().top<=.3*windowHeight?portfolioTitle.classList.add("activeTitle"):portfolioTitle.classList.remove("activeTitle")},handleOffer=function(){offerSection.getBoundingClientRect().top<=.4*windowHeight?offerTitle.classList.add("activeOfferTitle"):offerTitle.classList.remove("activeOfferTitle")},handleReview=function(){var e=reviewSection.getBoundingClientRect().top;e<=.7*windowHeight?(reviewTitle.classList.add("activeReviewTitle"),reviewImg.classList.add("activeReviewImg")):(reviewTitle.classList.remove("activeReviewTitle"),reviewImg.classList.remove("activeReviewImg")),e<=.4*windowHeight?reviewImg.classList.add("activeReviewImg"):reviewImg.classList.remove("activeReviewImg")},prepareDomEvents=function(){window.addEventListener("scroll",handleColorBurger),window.addEventListener("scroll",handleShowAbout),window.addEventListener("scroll",handleShowHero),accordeonBtns.forEach(function(e){return e.addEventListener("click",ShowAccordeon.bind(e))}),window.addEventListener("scroll",handlePortfolio),window.addEventListener("scroll",handleReview),window.addEventListener("scroll",handleOffer),navMobileEl.forEach(function(e){return e.addEventListener("click",handleCloseNavMobile)}),burgerBtn.addEventListener("click",function(){handleBurger(),showNav()})},main=function(){prepareDomElements(),prepareDomEvents()};window.addEventListener("DOMContentLoaded",main);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiYWJvdXRTZWN0aW9uIiwic2VjdGlvbkltZyIsInNlY3Rpb25UaXRsZSIsInNlY3Rpb25UZXh0IiwiaGVyb1NlY3Rpb24iLCJoZXJvVmlkZW9zIiwiYWNjb3JkZW9uIiwiYWNjb3JkZW9uQnRucyIsImFjY29yZGVvbkVsZW1lbnRzIiwicG9ydGZvbGlvU2VjdGlvbiIsInBvcnRmb2xpb1RpdGxlIiwicmV2aWV3U2VjdGlvbiIsInJldmlld1RpdGxlIiwicmV2aWV3SW1nIiwib2ZmZXJTZWN0aW9uIiwib2ZmZXJUaXRsZSIsIm5hdk1vYmlsZSIsIm5hdk1vYmlsZUVsIiwicHJlcGFyZURvbUVsZW1lbnRzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwicXVlcnlTZWxlY3RvciIsImJ1cmdlckJ0biIsImJ1cmdlckJhcnMiLCJ3aW5kb3dIZWlnaHQiLCJpbm5lckhlaWdodCIsIndpbmRvdyIsInRvcCIsImNsYXNzTGlzdCIsInRvZ2dsZSIsImhhbmRsZUNvbG9yQnVyZ2VyIiwiYWRkIiwicmVtb3ZlIiwic2hvd05hdiIsImhhbmRsZUNsb3NlTmF2TW9iaWxlIiwiY2xvc2VBbGxBY2NvcmRpb24iLCJmb3JFYWNoIiwidGV4dENvbnRlbnQiLCJ0aGlzIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwiY29udGFpbnMiLCJoYW5kbGVTaG93QWJvdXQiLCJoYW5kbGVTaG93SGVybyIsImhlcm9TZWN0aW9uVG9wIiwiYnRuIiwicG9ydGZvbGlvU2VjdGlvblRvcCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImhhbmRsZU9mZmVyIiwib2ZmZXJTZWN0aW9uVG9wIiwidmlkZW8iLCJyZXZpZXdTZWN0aW9uVG9wIiwiYWRkRXZlbnRMaXN0ZW5lciIsImhhbmRsZVBvcnRmb2xpbyIsInByZXBhcmVEb21FdmVudHMiLCJoYW5kbGVSZXZpZXciLCJTaG93QWNjb3JkZW9uIiwiYmluZCIsImhhbmRsZUJ1cmdlciIsIm1haW4iXSwibWFw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QUFVQyxlQUFlLEVBQ2pEMUIsT0FBT3lCLGlCQUFpQixTQUFVRyxZQUFZLEVBQzlDNUIsT0FBT3lCLGlCQUFpQixTQUFVSixXQUFXLEVBQzdDOUIsWUFBWW1CLFFBQVEsU0FBQVEsR0FBRyxPQUNuQkEsRUFBSU8saUJBQWlCLFFBQVNqQixvQkFBb0IsQ0FBQyxDQUN2RCxFQUNBWixVQUFVNkIsaUJBQWlCLFFBQVMsV0FBUU0sYUFBYSxFQUFHeEIsUUFBUSxDQUFHLENBQUMsQ0FHNUUsRUFJTXlCLEtBQU8sV0FDVHhDLG1CQUFtQixFQUNuQm1DLGlCQUFpQixDQUVyQixFQUVBM0IsT0FBT3lCLGlCQUFpQixtQkFBb0JPLElBQUkiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgYWJvdXRTZWN0aW9uO1xyXG5sZXQgc2VjdGlvbkltZztcclxubGV0IHNlY3Rpb25UaXRsZTtcclxubGV0IHNlY3Rpb25UZXh0O1xyXG5sZXQgaGVyb1NlY3Rpb247XHJcbmxldCBoZXJvVmlkZW9zO1xyXG5sZXQgYWNjb3JkZW9uO1xyXG5sZXQgYWNjb3JkZW9uQnRucztcclxubGV0IGFjY29yZGVvbkVsZW1lbnRzO1xyXG5sZXQgcG9ydGZvbGlvU2VjdGlvbjtcclxubGV0IHBvcnRmb2xpb1RpdGxlO1xyXG5sZXQgcmV2aWV3U2VjdGlvbjtcclxubGV0IHJldmlld1RpdGxlO1xyXG5sZXQgcmV2aWV3SW1nO1xyXG5sZXQgb2ZmZXJTZWN0aW9uO1xyXG5sZXQgb2ZmZXJUaXRsZTtcclxubGV0IG5hdk1vYmlsZTtcclxubGV0IG5hdk1vYmlsZUVsO1xyXG5sZXQgYnVyZ2VyQnRuO1xyXG5sZXQgYnVyZ2VyQmFycztcclxuXHJcblxyXG5jb25zdCBwcmVwYXJlRG9tRWxlbWVudHMgPSAoKSA9PiB7XHJcblxyXG4gICAgLy8vLy8vLy8gUE9CSUVSQU5JRSBFTEVNRU5Uw5NXIFNUUk9OWSAvLy8vLy9cclxuXHJcblxyXG4gICAgYWNjb3JkZW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFjb3JkZW9uJylcclxuICAgIGFjY29yZGVvbkJ0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYWNvcmRlb24tYnRuJylcclxuICAgIGFjY29yZGVvbkVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFjb3JkZW9uLWluZm8nKVxyXG4gICAgYWJvdXRTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFib3V0JylcclxuICAgIHNlY3Rpb25JbWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWJvdXRfX2ltZycpXHJcbiAgICBzZWN0aW9uVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWJvdXRfX2hlYWRpbmcnKVxyXG4gICAgc2VjdGlvblRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWJvdXRfX3RleHQnKVxyXG4gICAgaGVyb1NlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVybycpXHJcbiAgICBoZXJvVmlkZW9zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmhlcm9fX3ZpZGVvJylcclxuICAgIHBvcnRmb2xpb1NlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9ydGZvbGlvJylcclxuICAgIHBvcnRmb2xpb1RpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcnRmb2xpb19fdGl0bGUnKVxyXG4gICAgcmV2aWV3U2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yZXZpZXcnKVxyXG4gICAgcmV2aWV3VGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucmV2aWV3X190aXRsZS0tZGVza3RvcCcpXHJcbiAgICByZXZpZXdJbWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucmV2aWV3X19pbWcnKVxyXG4gICAgb2ZmZXJTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm9mZmVyc19fZGVza3RvcCcpXHJcbiAgICBvZmZlclRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm9mZmVyc19fdGl0bGUtZGVza3RvcCcpXHJcbiAgICBuYXZNb2JpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2X19tb2JpbGUnKVxyXG4gICAgYnVyZ2VyQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1cmdlci1idG4nKVxyXG4gICAgbmF2TW9iaWxlRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmF2X19pdGVtLS1tb2JpbGUnKVxyXG4gICAgYnVyZ2VyQmFycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idXJnZXItYnRuX19iYXJzJylcclxuXHJcblxyXG59XHJcbmNvbnN0IHdpbmRvd0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcclxuLy9GVU5DVElPTlNcclxuXHJcbmNvbnN0IGhhbmRsZUJ1cmdlciA9ICgpID0+IHtcclxuICAgIGJ1cmdlckJ0bi5jbGFzc0xpc3QudG9nZ2xlKCdidXJnZXItYWN0aXZlJylcclxuICAgIFxyXG59XHJcblxyXG5jb25zdCBoYW5kbGVDb2xvckJ1cmdlciA9ICgpID0+IHtcclxuICAgIGNvbnN0IHRvcCA9IHdpbmRvd0hlaWdodCArIDYwO1xyXG5cclxuICAgIGlmKHNjcm9sbFkgPj0gdG9wKSB7XHJcbiAgICAgICAgYnVyZ2VyQmFycy5jbGFzc0xpc3QuYWRkKCdibGFjay1iYXJzLWNvbG9yJylcclxuICAgIH1lbHNlIHtcclxuICAgICAgICBidXJnZXJCYXJzLmNsYXNzTGlzdC5yZW1vdmUoJ2JsYWNrLWJhcnMtY29sb3InKVxyXG4gICAgXHJcbn1cclxufVxyXG5cclxuXHJcbmNvbnN0IHNob3dOYXYgPSAoKSA9PiB7XHJcbiAgICBuYXZNb2JpbGUuY2xhc3NMaXN0LnRvZ2dsZSgnbmF2QWN0aXZlJylcclxuICAgIFxyXG59XHJcblxyXG5jb25zdCBoYW5kbGVDbG9zZU5hdk1vYmlsZSA9ICgpID0+IHtcclxuICAgICAgIFxyXG4gICAgICAgICAgICBuYXZNb2JpbGUuY2xhc3NMaXN0LnJlbW92ZSgnbmF2QWN0aXZlJylcclxuICAgIGJ1cmdlckJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdidXJnZXItYWN0aXZlJylcclxuICAgICAgICBcclxuICAgIH1cclxuICAgIFxyXG5cclxuXHJcbmZ1bmN0aW9uIFNob3dBY2NvcmRlb24oKSB7XHJcbiAgICBpZiAodGhpcy5uZXh0RWxlbWVudFNpYmxpbmcuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmVBY29yZGVvbicpKSB7XHJcbiAgICAgICAgdGhpcy5uZXh0RWxlbWVudFNpYmxpbmcuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlQWNvcmRlb24nKVxyXG4gICAgICAgIHRoaXMucXVlcnlTZWxlY3RvcignLmFjb3JkZW9uLXNwYW4nKS50ZXh0Q29udGVudCA9ICcrJ1xyXG5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY2xvc2VBbGxBY2NvcmRpb24oKTtcclxuICAgICAgICB0aGlzLm5leHRFbGVtZW50U2libGluZy5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmVBY29yZGVvbicpXHJcbiAgICAgICAgdGhpcy5xdWVyeVNlbGVjdG9yKCcuYWNvcmRlb24tc3BhbicpLnRleHRDb250ZW50ID0gJy0nXHJcblxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuXHJcbmNvbnN0IGNsb3NlQWxsQWNjb3JkaW9uID0gKCkgPT4ge1xyXG4gICAgYWNjb3JkZW9uRWxlbWVudHMuZm9yRWFjaChlbCA9PiB7XHJcbiAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlQWNvcmRlb24nKVxyXG4gICAgfSlcclxuXHJcbiAgICBjb25zdCBhY2NvcmRlb25CdG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFjb3JkZW9uLWJ0bicpO1xyXG4gICAgYWNjb3JkZW9uQnRucy5mb3JFYWNoKGJ0biA9PiB7XHJcbiAgICAgICAgY29uc3Qgc3BhbiA9IGJ0bi5xdWVyeVNlbGVjdG9yKCcuYWNvcmRlb24tc3BhbicpO1xyXG4gICAgICAgIHNwYW4udGV4dENvbnRlbnQgPSAnKyc7XHJcbiAgICB9KTtcclxuXHJcbn1cclxuXHJcbmNvbnN0IGhhbmRsZVNob3dBYm91dCA9ICgpID0+IHtcclxuXHJcbiAgICBjb25zdCBhYm91dFNlY3Rpb25Ub3AgPSBhYm91dFNlY3Rpb24uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xyXG5cclxuXHJcbiAgICBpZiAoYWJvdXRTZWN0aW9uVG9wIDw9IHdpbmRvd0hlaWdodCAqIDAuNikge1xyXG4gICAgICAgIHNlY3Rpb25JbWcuY2xhc3NMaXN0LmFkZCgnYWN0aXZlQW5pbWF0aW9uJylcclxuICAgICAgICBzZWN0aW9uVGl0bGUuY2xhc3NMaXN0LmFkZCgnYWN0aXZlQW5pbWF0aW9uJylcclxuICAgICAgICBzZWN0aW9uVGV4dC5jbGFzc0xpc3QuYWRkKCdhY3RpdmVBbmltYXRpb24nKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBzZWN0aW9uSW1nLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZUFuaW1hdGlvbicpXHJcbiAgICAgICAgc2VjdGlvblRpdGxlLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZUFuaW1hdGlvbicpXHJcbiAgICAgICAgc2VjdGlvblRleHQuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlQW5pbWF0aW9uJylcclxuICAgIH1cclxuXHJcblxyXG59XHJcblxyXG5jb25zdCBoYW5kbGVTaG93SGVybyA9ICgpID0+IHtcclxuICAgIGNvbnN0IGhlcm9TZWN0aW9uVG9wID0gaGVyb1NlY3Rpb24uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xyXG5cclxuICAgIGlmIChoZXJvU2VjdGlvblRvcCA8PSB3aW5kb3dIZWlnaHQgKiAwLjcpIHtcclxuICAgICAgICBoZXJvVmlkZW9zLmZvckVhY2godmlkZW8gPT4ge1xyXG4gICAgICAgICAgICB2aWRlby5jbGFzc0xpc3QuYWRkKCdhY3RpdmVWaWRlbycpXHJcbiAgICAgICAgfSlcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaGVyb1ZpZGVvcy5mb3JFYWNoKHZpZGVvID0+IHtcclxuICAgICAgICAgICAgdmlkZW8uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlVmlkZW8nKVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5cclxuY29uc3QgaGFuZGxlUG9ydGZvbGlvID0gKCkgPT4ge1xyXG4gICAgY29uc3QgcG9ydGZvbGlvU2VjdGlvblRvcCA9IHBvcnRmb2xpb1NlY3Rpb24uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xyXG5cclxuICAgIGlmIChwb3J0Zm9saW9TZWN0aW9uVG9wIDw9IHdpbmRvd0hlaWdodCAqIDAuMykge1xyXG4gICAgICAgIHBvcnRmb2xpb1RpdGxlLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZVRpdGxlJylcclxuICAgICAgICBcclxuICAgICAgICBcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcG9ydGZvbGlvVGl0bGUuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlVGl0bGUnKVxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuY29uc3QgaGFuZGxlT2ZmZXIgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBvZmZlclNlY3Rpb25Ub3AgPSBvZmZlclNlY3Rpb24uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xyXG5cclxuICAgIGlmIChvZmZlclNlY3Rpb25Ub3AgPD0gd2luZG93SGVpZ2h0ICogMC40KSB7XHJcbiAgICAgICAgb2ZmZXJUaXRsZS5jbGFzc0xpc3QuYWRkKCdhY3RpdmVPZmZlclRpdGxlJylcclxuICAgICAgIFxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBvZmZlclRpdGxlLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZU9mZmVyVGl0bGUnKVxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuY29uc3QgaGFuZGxlUmV2aWV3ID0gKCkgPT4ge1xyXG4gICAgY29uc3QgcmV2aWV3U2VjdGlvblRvcCA9IHJldmlld1NlY3Rpb24uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xyXG5cclxuICAgIGlmIChyZXZpZXdTZWN0aW9uVG9wIDw9IHdpbmRvd0hlaWdodCAqIDAuNykge1xyXG4gICAgICAgIHJldmlld1RpdGxlLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZVJldmlld1RpdGxlJylcclxuICAgICAgICByZXZpZXdJbWcuY2xhc3NMaXN0LmFkZCgnYWN0aXZlUmV2aWV3SW1nJylcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV2aWV3VGl0bGUuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlUmV2aWV3VGl0bGUnKVxyXG4gICAgICAgIHJldmlld0ltZy5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmVSZXZpZXdJbWcnKVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBpZiAocmV2aWV3U2VjdGlvblRvcCA8PSB3aW5kb3dIZWlnaHQgKiAwLjQpIHtcclxuICAgIFxyXG4gICAgICAgIHJldmlld0ltZy5jbGFzc0xpc3QuYWRkKCdhY3RpdmVSZXZpZXdJbWcnKVxyXG5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIFxyXG4gICAgICAgIHJldmlld0ltZy5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmVSZXZpZXdJbWcnKVxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuXHJcblxyXG5jb25zdCBwcmVwYXJlRG9tRXZlbnRzID0gKCkgPT4ge1xyXG5cclxuICAgIC8vLy8vLy8vLy8gV1lXT8WBQU5JRSBGVU5LQ0pJIC8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIGhhbmRsZUNvbG9yQnVyZ2VyKTtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIGhhbmRsZVNob3dBYm91dCk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBoYW5kbGVTaG93SGVybyk7XHJcbiAgICBhY2NvcmRlb25CdG5zLmZvckVhY2goYnRuID0+XHJcbiAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgU2hvd0FjY29yZGVvbi5iaW5kKGJ0bikpXHJcbiAgICApXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBoYW5kbGVQb3J0Zm9saW8pO1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgaGFuZGxlUmV2aWV3KTtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIGhhbmRsZU9mZmVyKTtcclxuICAgIG5hdk1vYmlsZUVsLmZvckVhY2goYnRuID0+XHJcbiAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQ2xvc2VOYXZNb2JpbGUpXHJcbiAgICApXHJcbiAgICBidXJnZXJCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHsgaGFuZGxlQnVyZ2VyKCk7IHNob3dOYXYoKTsgfSlcclxuXHJcblxyXG59XHJcblxyXG4vLy8vLyBHxYFPV05FIFdZV0/FgUFOSUUgRlVOS0NKSSAvLy8vL1xyXG5cclxuY29uc3QgbWFpbiA9ICgpID0+IHtcclxuICAgIHByZXBhcmVEb21FbGVtZW50cygpXHJcbiAgICBwcmVwYXJlRG9tRXZlbnRzKCk7XHJcblxyXG59XHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIG1haW4pIl19
