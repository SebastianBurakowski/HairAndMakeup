var aboutSection,sectionImg,sectionTitle,sectionText,heroSection,heroVideos,accordeon,accordeonBtns,accordeonElements,portfolioSection,portfolioTitle,reviewSection,reviewTitle,reviewImg,offerSection,offerTitle,navMobile,navMobileEl,burgerBtn,prepareDomElements=function(){accordeon=document.querySelector(".acordeon"),accordeonBtns=document.querySelectorAll(".acordeon-btn"),accordeonElements=document.querySelectorAll(".acordeon-info"),aboutSection=document.querySelector(".about"),sectionImg=document.querySelector(".about__img"),sectionTitle=document.querySelector(".about__heading"),sectionText=document.querySelector(".about__text"),heroSection=document.querySelector(".hero"),heroVideos=document.querySelectorAll(".hero__video"),portfolioSection=document.querySelector(".portfolio"),portfolioTitle=document.querySelector(".portfolio__title"),reviewSection=document.querySelector(".review"),reviewTitle=document.querySelector(".review__title--desktop"),reviewImg=document.querySelector(".review__img"),offerSection=document.querySelector(".offers__desktop"),offerTitle=document.querySelector(".offers__title-desktop"),navMobile=document.querySelector(".nav__mobile"),burgerBtn=document.querySelector(".burger-btn"),navMobileEl=document.querySelectorAll(".nav__item--mobile")},windowHeight=window.innerHeight,handleBurger=function(){burgerBtn.classList.toggle("burger-active")},showNav=function(){navMobile.classList.toggle("navActive")},handleCloseNavMobile=function(){navMobile.classList.remove("navActive"),burgerBtn.classList.remove("burger-active")};function ShowAccordeon(){this.nextElementSibling.classList.contains("activeAcordeon")?(this.nextElementSibling.classList.remove("activeAcordeon"),this.querySelector(".acordeon-span").textContent="+"):(closeAllAccordion(),this.nextElementSibling.classList.toggle("activeAcordeon"),this.querySelector(".acordeon-span").textContent="-")}var closeAllAccordion=function(){accordeonElements.forEach(function(e){e.classList.remove("activeAcordeon")}),document.querySelectorAll(".acordeon-btn").forEach(function(e){e.querySelector(".acordeon-span").textContent="+"})},handleShowAbout=function(){aboutSection.getBoundingClientRect().top<=.6*windowHeight?(sectionImg.classList.add("activeAnimation"),sectionTitle.classList.add("activeAnimation"),sectionText.classList.add("activeAnimation")):(sectionImg.classList.remove("activeAnimation"),sectionTitle.classList.remove("activeAnimation"),sectionText.classList.remove("activeAnimation"))},handleShowHero=function(){heroSection.getBoundingClientRect().top<=.7*windowHeight?heroVideos.forEach(function(e){e.classList.add("activeVideo")}):heroVideos.forEach(function(e){e.classList.remove("activeVideo")})},handlePortfolio=function(){portfolioSection.getBoundingClientRect().top<=.3*windowHeight?portfolioTitle.classList.add("activeTitle"):portfolioTitle.classList.remove("activeTitle")},handleOffer=function(){offerSection.getBoundingClientRect().top<=.4*windowHeight?offerTitle.classList.add("activeOfferTitle"):offerTitle.classList.remove("activeOfferTitle")},handleReview=function(){var e=reviewSection.getBoundingClientRect().top;e<=.7*windowHeight?(reviewTitle.classList.add("activeReviewTitle"),reviewImg.classList.add("activeReviewImg")):(reviewTitle.classList.remove("activeReviewTitle"),reviewImg.classList.remove("activeReviewImg")),e<=.4*windowHeight?reviewImg.classList.add("activeReviewImg"):reviewImg.classList.remove("activeReviewImg")},prepareDomEvents=function(){window.addEventListener("scroll",handleShowAbout),window.addEventListener("scroll",handleShowHero),accordeonBtns.forEach(function(e){return e.addEventListener("click",ShowAccordeon.bind(e))}),window.addEventListener("scroll",handlePortfolio),window.addEventListener("scroll",handleReview),window.addEventListener("scroll",handleOffer),navMobileEl.forEach(function(e){return e.addEventListener("click",handleCloseNavMobile)}),burgerBtn.addEventListener("click",function(){handleBurger(),showNav()})},main=function(){prepareDomElements(),prepareDomEvents()};window.addEventListener("DOMContentLoaded",main);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiYWJvdXRTZWN0aW9uIiwic2VjdGlvbkltZyIsInNlY3Rpb25UaXRsZSIsInNlY3Rpb25UZXh0IiwiaGVyb1NlY3Rpb24iLCJoZXJvVmlkZW9zIiwiYWNjb3JkZW9uIiwiYWNjb3JkZW9uQnRucyIsImFjY29yZGVvbkVsZW1lbnRzIiwicG9ydGZvbGlvU2VjdGlvbiIsInBvcnRmb2xpb1RpdGxlIiwicmV2aWV3U2VjdGlvbiIsInJldmlld1RpdGxlIiwicmV2aWV3SW1nIiwib2ZmZXJTZWN0aW9uIiwib2ZmZXJUaXRsZSIsIm5hdk1vYmlsZSIsInByZXBhcmVEb21FbGVtZW50cyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsInF1ZXJ5U2VsZWN0b3IiLCJidXJnZXJCdG4iLCJuYXZNb2JpbGVFbCIsIndpbmRvd0hlaWdodCIsImlubmVySGVpZ2h0Iiwid2luZG93IiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwic2hvd05hdiIsIlNob3dBY2NvcmRlb24iLCJuZXh0RWxlbWVudFNpYmxpbmciLCJjb250YWlucyIsImNsb3NlQWxsQWNjb3JkaW9uIiwicmVtb3ZlIiwidGV4dENvbnRlbnQiLCJzcGFuIiwidGhpcyIsImhhbmRsZVNob3dBYm91dCIsImFib3V0U2VjdGlvblRvcCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImZvckVhY2giLCJlbCIsImhhbmRsZVNob3dIZXJvIiwiYnRuIiwiaGFuZGxlUG9ydGZvbGlvIiwidG9wIiwiYWRkIiwiaGFuZGxlT2ZmZXIiLCJvZmZlclNlY3Rpb25Ub3AiLCJoYW5kbGVSZXZpZXciLCJ2aWRlbyIsInJldmlld1NlY3Rpb25Ub3AiLCJhZGRFdmVudExpc3RlbmVyIiwiaGFuZGxlQnVyZ2VyIiwicHJlcGFyZURvbUV2ZW50cyIsImJpbmQiLCJoYW5kbGVDbG9zZU5hdk1vYmlsZSIsIm1haW4iXSwibWFwcGluZ3MiOiJBQUFBLElBQUlBLGFBQ0FDLFdBREFELGFBQ0FDLFlBQ0FD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Q0FHNUUsRUFJTTZCLEtBQU8sV0FDVHhDLG1CQUFtQixFQUNuQnFDLGlCQUFpQixDQUVyQixFQUVBN0IsT0FBTzJCLGlCQUFpQixtQkFBb0JLLElBQUkiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgYWJvdXRTZWN0aW9uO1xyXG5sZXQgc2VjdGlvbkltZztcclxubGV0IHNlY3Rpb25UaXRsZTtcclxubGV0IHNlY3Rpb25UZXh0O1xyXG5sZXQgaGVyb1NlY3Rpb247XHJcbmxldCBoZXJvVmlkZW9zO1xyXG5sZXQgYWNjb3JkZW9uO1xyXG5sZXQgYWNjb3JkZW9uQnRucztcclxubGV0IGFjY29yZGVvbkVsZW1lbnRzO1xyXG5sZXQgcG9ydGZvbGlvU2VjdGlvbjtcclxubGV0IHBvcnRmb2xpb1RpdGxlO1xyXG5sZXQgcmV2aWV3U2VjdGlvbjtcclxubGV0IHJldmlld1RpdGxlO1xyXG5sZXQgcmV2aWV3SW1nO1xyXG5sZXQgb2ZmZXJTZWN0aW9uO1xyXG5sZXQgb2ZmZXJUaXRsZTtcclxubGV0IG5hdk1vYmlsZTtcclxubGV0IG5hdk1vYmlsZUVsO1xyXG5sZXQgYnVyZ2VyQnRuO1xyXG5cclxuXHJcbmNvbnN0IHByZXBhcmVEb21FbGVtZW50cyA9ICgpID0+IHtcclxuXHJcbiAgICAvLy8vLy8vLyBQT0JJRVJBTklFIEVMRU1FTlTDk1cgU1RST05ZIC8vLy8vL1xyXG5cclxuXHJcbiAgICBhY2NvcmRlb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWNvcmRlb24nKVxyXG4gICAgYWNjb3JkZW9uQnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY29yZGVvbi1idG4nKVxyXG4gICAgYWNjb3JkZW9uRWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYWNvcmRlb24taW5mbycpXHJcbiAgICBhYm91dFNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWJvdXQnKVxyXG4gICAgc2VjdGlvbkltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hYm91dF9faW1nJylcclxuICAgIHNlY3Rpb25UaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hYm91dF9faGVhZGluZycpXHJcbiAgICBzZWN0aW9uVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hYm91dF9fdGV4dCcpXHJcbiAgICBoZXJvU2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZXJvJylcclxuICAgIGhlcm9WaWRlb3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaGVyb19fdmlkZW8nKVxyXG4gICAgcG9ydGZvbGlvU2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3J0Zm9saW8nKVxyXG4gICAgcG9ydGZvbGlvVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9ydGZvbGlvX190aXRsZScpXHJcbiAgICByZXZpZXdTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJldmlldycpXHJcbiAgICByZXZpZXdUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yZXZpZXdfX3RpdGxlLS1kZXNrdG9wJylcclxuICAgIHJldmlld0ltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yZXZpZXdfX2ltZycpXHJcbiAgICBvZmZlclNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcub2ZmZXJzX19kZXNrdG9wJylcclxuICAgIG9mZmVyVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcub2ZmZXJzX190aXRsZS1kZXNrdG9wJylcclxuICAgIG5hdk1vYmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZfX21vYmlsZScpXHJcbiAgICBidXJnZXJCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnVyZ2VyLWJ0bicpXHJcbiAgICBuYXZNb2JpbGVFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYXZfX2l0ZW0tLW1vYmlsZScpXHJcblxyXG5cclxufVxyXG5jb25zdCB3aW5kb3dIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XHJcbi8vRlVOQ1RJT05TXHJcblxyXG5jb25zdCBoYW5kbGVCdXJnZXIgPSAoKSA9PiB7XHJcbiAgICBidXJnZXJCdG4uY2xhc3NMaXN0LnRvZ2dsZSgnYnVyZ2VyLWFjdGl2ZScpXHJcbiAgICBcclxufVxyXG5cclxuXHJcbmNvbnN0IHNob3dOYXYgPSAoKSA9PiB7XHJcbiAgICBuYXZNb2JpbGUuY2xhc3NMaXN0LnRvZ2dsZSgnbmF2QWN0aXZlJylcclxuICAgIFxyXG59XHJcblxyXG5jb25zdCBoYW5kbGVDbG9zZU5hdk1vYmlsZSA9ICgpID0+IHtcclxuICAgICAgIFxyXG4gICAgICAgICAgICBuYXZNb2JpbGUuY2xhc3NMaXN0LnJlbW92ZSgnbmF2QWN0aXZlJylcclxuICAgIGJ1cmdlckJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdidXJnZXItYWN0aXZlJylcclxuICAgICAgICBcclxuICAgIH1cclxuICAgIFxyXG5cclxuXHJcbmZ1bmN0aW9uIFNob3dBY2NvcmRlb24oKSB7XHJcbiAgICBpZiAodGhpcy5uZXh0RWxlbWVudFNpYmxpbmcuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmVBY29yZGVvbicpKSB7XHJcbiAgICAgICAgdGhpcy5uZXh0RWxlbWVudFNpYmxpbmcuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlQWNvcmRlb24nKVxyXG4gICAgICAgIHRoaXMucXVlcnlTZWxlY3RvcignLmFjb3JkZW9uLXNwYW4nKS50ZXh0Q29udGVudCA9ICcrJ1xyXG5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY2xvc2VBbGxBY2NvcmRpb24oKTtcclxuICAgICAgICB0aGlzLm5leHRFbGVtZW50U2libGluZy5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmVBY29yZGVvbicpXHJcbiAgICAgICAgdGhpcy5xdWVyeVNlbGVjdG9yKCcuYWNvcmRlb24tc3BhbicpLnRleHRDb250ZW50ID0gJy0nXHJcblxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuXHJcbmNvbnN0IGNsb3NlQWxsQWNjb3JkaW9uID0gKCkgPT4ge1xyXG4gICAgYWNjb3JkZW9uRWxlbWVudHMuZm9yRWFjaChlbCA9PiB7XHJcbiAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlQWNvcmRlb24nKVxyXG4gICAgfSlcclxuXHJcbiAgICBjb25zdCBhY2NvcmRlb25CdG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFjb3JkZW9uLWJ0bicpO1xyXG4gICAgYWNjb3JkZW9uQnRucy5mb3JFYWNoKGJ0biA9PiB7XHJcbiAgICAgICAgY29uc3Qgc3BhbiA9IGJ0bi5xdWVyeVNlbGVjdG9yKCcuYWNvcmRlb24tc3BhbicpO1xyXG4gICAgICAgIHNwYW4udGV4dENvbnRlbnQgPSAnKyc7XHJcbiAgICB9KTtcclxuXHJcbn1cclxuXHJcbmNvbnN0IGhhbmRsZVNob3dBYm91dCA9ICgpID0+IHtcclxuXHJcbiAgICBjb25zdCBhYm91dFNlY3Rpb25Ub3AgPSBhYm91dFNlY3Rpb24uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xyXG5cclxuXHJcbiAgICBpZiAoYWJvdXRTZWN0aW9uVG9wIDw9IHdpbmRvd0hlaWdodCAqIDAuNikge1xyXG4gICAgICAgIHNlY3Rpb25JbWcuY2xhc3NMaXN0LmFkZCgnYWN0aXZlQW5pbWF0aW9uJylcclxuICAgICAgICBzZWN0aW9uVGl0bGUuY2xhc3NMaXN0LmFkZCgnYWN0aXZlQW5pbWF0aW9uJylcclxuICAgICAgICBzZWN0aW9uVGV4dC5jbGFzc0xpc3QuYWRkKCdhY3RpdmVBbmltYXRpb24nKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBzZWN0aW9uSW1nLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZUFuaW1hdGlvbicpXHJcbiAgICAgICAgc2VjdGlvblRpdGxlLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZUFuaW1hdGlvbicpXHJcbiAgICAgICAgc2VjdGlvblRleHQuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlQW5pbWF0aW9uJylcclxuICAgIH1cclxuXHJcblxyXG59XHJcblxyXG5jb25zdCBoYW5kbGVTaG93SGVybyA9ICgpID0+IHtcclxuICAgIGNvbnN0IGhlcm9TZWN0aW9uVG9wID0gaGVyb1NlY3Rpb24uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xyXG5cclxuICAgIGlmIChoZXJvU2VjdGlvblRvcCA8PSB3aW5kb3dIZWlnaHQgKiAwLjcpIHtcclxuICAgICAgICBoZXJvVmlkZW9zLmZvckVhY2godmlkZW8gPT4ge1xyXG4gICAgICAgICAgICB2aWRlby5jbGFzc0xpc3QuYWRkKCdhY3RpdmVWaWRlbycpXHJcbiAgICAgICAgfSlcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaGVyb1ZpZGVvcy5mb3JFYWNoKHZpZGVvID0+IHtcclxuICAgICAgICAgICAgdmlkZW8uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlVmlkZW8nKVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5cclxuY29uc3QgaGFuZGxlUG9ydGZvbGlvID0gKCkgPT4ge1xyXG4gICAgY29uc3QgcG9ydGZvbGlvU2VjdGlvblRvcCA9IHBvcnRmb2xpb1NlY3Rpb24uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xyXG5cclxuICAgIGlmIChwb3J0Zm9saW9TZWN0aW9uVG9wIDw9IHdpbmRvd0hlaWdodCAqIDAuMykge1xyXG4gICAgICAgIHBvcnRmb2xpb1RpdGxlLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZVRpdGxlJylcclxuICAgICAgICBcclxuICAgICAgICBcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcG9ydGZvbGlvVGl0bGUuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlVGl0bGUnKVxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuY29uc3QgaGFuZGxlT2ZmZXIgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBvZmZlclNlY3Rpb25Ub3AgPSBvZmZlclNlY3Rpb24uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xyXG5cclxuICAgIGlmIChvZmZlclNlY3Rpb25Ub3AgPD0gd2luZG93SGVpZ2h0ICogMC40KSB7XHJcbiAgICAgICAgb2ZmZXJUaXRsZS5jbGFzc0xpc3QuYWRkKCdhY3RpdmVPZmZlclRpdGxlJylcclxuICAgICAgIFxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBvZmZlclRpdGxlLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZU9mZmVyVGl0bGUnKVxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuY29uc3QgaGFuZGxlUmV2aWV3ID0gKCkgPT4ge1xyXG4gICAgY29uc3QgcmV2aWV3U2VjdGlvblRvcCA9IHJldmlld1NlY3Rpb24uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xyXG5cclxuICAgIGlmIChyZXZpZXdTZWN0aW9uVG9wIDw9IHdpbmRvd0hlaWdodCAqIDAuNykge1xyXG4gICAgICAgIHJldmlld1RpdGxlLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZVJldmlld1RpdGxlJylcclxuICAgICAgICByZXZpZXdJbWcuY2xhc3NMaXN0LmFkZCgnYWN0aXZlUmV2aWV3SW1nJylcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV2aWV3VGl0bGUuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlUmV2aWV3VGl0bGUnKVxyXG4gICAgICAgIHJldmlld0ltZy5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmVSZXZpZXdJbWcnKVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBpZiAocmV2aWV3U2VjdGlvblRvcCA8PSB3aW5kb3dIZWlnaHQgKiAwLjQpIHtcclxuICAgIFxyXG4gICAgICAgIHJldmlld0ltZy5jbGFzc0xpc3QuYWRkKCdhY3RpdmVSZXZpZXdJbWcnKVxyXG5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIFxyXG4gICAgICAgIHJldmlld0ltZy5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmVSZXZpZXdJbWcnKVxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuXHJcblxyXG5jb25zdCBwcmVwYXJlRG9tRXZlbnRzID0gKCkgPT4ge1xyXG5cclxuICAgIC8vLy8vLy8vLy8gV1lXT8WBQU5JRSBGVU5LQ0pJIC8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIGhhbmRsZVNob3dBYm91dCk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBoYW5kbGVTaG93SGVybyk7XHJcbiAgICBhY2NvcmRlb25CdG5zLmZvckVhY2goYnRuID0+XHJcbiAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgU2hvd0FjY29yZGVvbi5iaW5kKGJ0bikpXHJcbiAgICApXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBoYW5kbGVQb3J0Zm9saW8pO1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgaGFuZGxlUmV2aWV3KTtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIGhhbmRsZU9mZmVyKTtcclxuICAgIG5hdk1vYmlsZUVsLmZvckVhY2goYnRuID0+XHJcbiAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQ2xvc2VOYXZNb2JpbGUpXHJcbiAgICApXHJcbiAgICBidXJnZXJCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHsgaGFuZGxlQnVyZ2VyKCk7IHNob3dOYXYoKTsgfSlcclxuXHJcblxyXG59XHJcblxyXG4vLy8vLyBHxYFPV05FIFdZV0/FgUFOSUUgRlVOS0NKSSAvLy8vL1xyXG5cclxuY29uc3QgbWFpbiA9ICgpID0+IHtcclxuICAgIHByZXBhcmVEb21FbGVtZW50cygpXHJcbiAgICBwcmVwYXJlRG9tRXZlbnRzKCk7XHJcblxyXG59XHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIG1haW4pIl19
