var aboutSection,sectionImg,sectionTitle,sectionText,heroSection,heroVideos,accordeon,accordeonBtns,accordeonElements,portfolioSection,portfolioTitle,reviewSection,reviewTitle,reviewImg,offerSection,offerTitle,navMobile,navMobileEl,burgerBtn,burgerBars,prepareDomElements=function(){accordeon=document.querySelector(".acordeon"),accordeonBtns=document.querySelectorAll(".acordeon-btn"),accordeonElements=document.querySelectorAll(".acordeon-info"),aboutSection=document.querySelector(".about"),sectionImg=document.querySelector(".about__img"),sectionTitle=document.querySelector(".about__heading"),sectionText=document.querySelector(".about__text"),heroSection=document.querySelector(".hero"),heroVideos=document.querySelectorAll(".hero__video"),portfolioSection=document.querySelector(".portfolio"),portfolioTitle=document.querySelector(".portfolio__title"),reviewSection=document.querySelector(".review"),reviewTitle=document.querySelector(".review__title--desktop"),reviewImg=document.querySelector(".review__img"),offerSection=document.querySelector(".offers__desktop"),offerTitle=document.querySelector(".offers__title-desktop"),navMobile=document.querySelector(".nav__mobile"),burgerBtn=document.querySelector(".burger-btn"),navMobileEl=document.querySelectorAll(".nav__item--mobile"),burgerBars=document.querySelector(".burger-btn__bars")},windowHeight=window.innerHeight,handleBurger=function(){burgerBtn.classList.toggle("burger-active")},handleColorBurger=function(){scrollY>=windowHeight+60?burgerBars.classList.add("black-bars-color"):burgerBars.classList.remove("black-bars-color")},showNav=function(){navMobile.classList.toggle("navActive")},handleCloseNavMobile=function(){navMobile.classList.remove("navActive"),burgerBtn.classList.remove("burger-active")};function ShowAccordeon(){this.nextElementSibling.classList.contains("activeAcordeon")?(this.nextElementSibling.classList.remove("activeAcordeon"),this.querySelector(".acordeon-span").textContent="+"):(closeAllAccordion(),this.nextElementSibling.classList.toggle("activeAcordeon"),this.querySelector(".acordeon-span").textContent="-")}var closeAllAccordion=function(){accordeonElements.forEach(function(e){e.classList.remove("activeAcordeon")}),document.querySelectorAll(".acordeon-btn").forEach(function(e){e.querySelector(".acordeon-span").textContent="+"})},handleShowAbout=function(){aboutSection.getBoundingClientRect().top<=.6*windowHeight?(sectionImg.classList.add("activeAnimation"),sectionTitle.classList.add("activeAnimation"),sectionText.classList.add("activeAnimation")):(sectionImg.classList.remove("activeAnimation"),sectionTitle.classList.remove("activeAnimation"),sectionText.classList.remove("activeAnimation"))},handleShowHero=function(){heroSection.getBoundingClientRect().top<=.7*windowHeight?heroVideos.forEach(function(e){e.classList.add("activeVideo")}):heroVideos.forEach(function(e){e.classList.remove("activeVideo")})},handlePortfolio=function(){portfolioSection&&(portfolioSection.getBoundingClientRect().top<=.3*windowHeight?portfolioTitle.classList.add("activeTitle"):portfolioTitle.classList.remove("activeTitle"))},handleOffer=function(){offerSection.getBoundingClientRect().top<=.4*windowHeight?offerTitle.classList.add("activeOfferTitle"):offerTitle.classList.remove("activeOfferTitle")},handleReview=function(){var e=reviewSection.getBoundingClientRect().top;e<=.7*windowHeight?(reviewTitle.classList.add("activeReviewTitle"),reviewImg.classList.add("activeReviewImg")):(reviewTitle.classList.remove("activeReviewTitle"),reviewImg.classList.remove("activeReviewImg")),e<=.4*windowHeight?reviewImg.classList.add("activeReviewImg"):reviewImg.classList.remove("activeReviewImg")},prepareDomEvents=function(){document.body.classList.contains("home")&&(window.addEventListener("scroll",handleColorBurger),window.addEventListener("scroll",handleShowAbout),window.addEventListener("scroll",handleShowHero),window.addEventListener("scroll",handlePortfolio),window.addEventListener("scroll",handleReview),window.addEventListener("scroll",handleOffer)),navMobileEl.forEach(function(e){return e.addEventListener("click",handleCloseNavMobile)}),burgerBtn.addEventListener("click",function(){handleBurger(),showNav()}),accordeonBtns.forEach(function(e){return e.addEventListener("click",ShowAccordeon.bind(e))})},main=function(){prepareDomElements(),prepareDomEvents()};window.addEventListener("DOMContentLoaded",main);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiYWJvdXRTZWN0aW9uIiwic2VjdGlvbkltZyIsInNlY3Rpb25UaXRsZSIsInNlY3Rpb25UZXh0IiwiaGVyb1NlY3Rpb24iLCJoZXJvVmlkZW9zIiwiYWNjb3JkZW9uIiwiYWNjb3JkZW9uQnRucyIsImFjY29yZGVvbkVsZW1lbnRzIiwicG9ydGZvbGlvU2VjdGlvbiIsInBvcnRmb2xpb1RpdGxlIiwicmV2aWV3U2VjdGlvbiIsInJldmlld1RpdGxlIiwicmV2aWV3SW1nIiwib2ZmZXJTZWN0aW9uIiwib2ZmZXJUaXRsZSIsIm5hdk1vYmlsZSIsIm5hdk1vYmlsZUVsIiwicHJlcGFyZURvbUVsZW1lbnRzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwicXVlcnlTZWxlY3RvciIsImJ1cmdlckJ0biIsImJ1cmdlckJhcnMiLCJ3aW5kb3dIZWlnaHQiLCJpbm5lckhlaWdodCIsIndpbmRvdyIsInNjcm9sbFkiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJoYW5kbGVDb2xvckJ1cmdlciIsImhhbmRsZUNsb3NlTmF2TW9iaWxlIiwiYWRkIiwicmVtb3ZlIiwic2hvd05hdiIsImZvckVhY2giLCJhYm91dFNlY3Rpb25Ub3AiLCJjb250YWlucyIsInRleHRDb250ZW50IiwidGhpcyIsImNsb3NlQWxsQWNjb3JkaW9uIiwiZWwiLCJidG4iLCJoYW5kbGVQb3J0Zm9saW8iLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ0b3AiLCJoYW5kbGVSZXZpZXciLCJyZXZpZXdTZWN0aW9uVG9wIiwidmlkZW8iLCJwcmVwYXJlRG9tRXZlbnRzIiwiYWRkRXZlbnRMaXN0ZW5lciIsImhhbmRsZU9mZmVyIiwiYm9keSIsImhhbmRsZVNob3dBYm91dCIsImhhbmRsZVNob3dIZXJvIiwiaGFuZGxlQnVyZ2VyIiwiU2hvd0FjY29yZGVvbiIsImJpbmQiLCJtYWluIl0sIm1hcHBpbmdzIjoiQUFBQSxJQUFJQSxhQUNBQyxXQURBRCxhQUNBQyxZ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QU8sR0FBRyxPQUNuQkEsRUFBSVEsaUJBQWlCLFFBQVNuQixvQkFBb0IsQ0FBQyxDQUN2RCxFQUNBVCxVQUFVNEIsaUJBQWlCLFFBQVMsV0FBUUssYUFBYSxFQUFHckIsUUFBUSxDQUFHLENBQUMsRUFDeEUzQixjQUFjNEIsUUFBUSxTQUFBTyxHQUFHLE9BQ3JCQSxFQUFJUSxpQkFBaUIsUUFBU00sY0FBY0MsS0FBS2YsQ0FBRyxDQUFDLENBQUMsQ0FDMUQsQ0FHSixFQUlNZ0IsS0FBTyxXQUNUeEMsbUJBQW1CLEVBQ25CK0IsaUJBQWlCLENBRXJCLEVBRUF2QixPQUFPd0IsaUJBQWlCLG1CQUFvQlEsSUFBSSIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImxldCBhYm91dFNlY3Rpb247XHJcbmxldCBzZWN0aW9uSW1nO1xyXG5sZXQgc2VjdGlvblRpdGxlO1xyXG5sZXQgc2VjdGlvblRleHQ7XHJcbmxldCBoZXJvU2VjdGlvbjtcclxubGV0IGhlcm9WaWRlb3M7XHJcbmxldCBhY2NvcmRlb247XHJcbmxldCBhY2NvcmRlb25CdG5zO1xyXG5sZXQgYWNjb3JkZW9uRWxlbWVudHM7XHJcbmxldCBwb3J0Zm9saW9TZWN0aW9uO1xyXG5sZXQgcG9ydGZvbGlvVGl0bGU7XHJcbmxldCByZXZpZXdTZWN0aW9uO1xyXG5sZXQgcmV2aWV3VGl0bGU7XHJcbmxldCByZXZpZXdJbWc7XHJcbmxldCBvZmZlclNlY3Rpb247XHJcbmxldCBvZmZlclRpdGxlO1xyXG5sZXQgbmF2TW9iaWxlO1xyXG5sZXQgbmF2TW9iaWxlRWw7XHJcbmxldCBidXJnZXJCdG47XHJcbmxldCBidXJnZXJCYXJzO1xyXG5cclxuXHJcbmNvbnN0IHByZXBhcmVEb21FbGVtZW50cyA9ICgpID0+IHtcclxuXHJcbiAgICAvLy8vLy8vLyBQT0JJRVJBTklFIEVMRU1FTlTDk1cgU1RST05ZIC8vLy8vL1xyXG5cclxuXHJcbiAgICBhY2NvcmRlb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWNvcmRlb24nKVxyXG4gICAgYWNjb3JkZW9uQnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY29yZGVvbi1idG4nKVxyXG4gICAgYWNjb3JkZW9uRWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYWNvcmRlb24taW5mbycpXHJcbiAgICBhYm91dFNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWJvdXQnKVxyXG4gICAgc2VjdGlvbkltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hYm91dF9faW1nJylcclxuICAgIHNlY3Rpb25UaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hYm91dF9faGVhZGluZycpXHJcbiAgICBzZWN0aW9uVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hYm91dF9fdGV4dCcpXHJcbiAgICBoZXJvU2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZXJvJylcclxuICAgIGhlcm9WaWRlb3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaGVyb19fdmlkZW8nKVxyXG4gICAgcG9ydGZvbGlvU2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3J0Zm9saW8nKVxyXG4gICAgcG9ydGZvbGlvVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9ydGZvbGlvX190aXRsZScpXHJcbiAgICByZXZpZXdTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJldmlldycpXHJcbiAgICByZXZpZXdUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yZXZpZXdfX3RpdGxlLS1kZXNrdG9wJylcclxuICAgIHJldmlld0ltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yZXZpZXdfX2ltZycpXHJcbiAgICBvZmZlclNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcub2ZmZXJzX19kZXNrdG9wJylcclxuICAgIG9mZmVyVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcub2ZmZXJzX190aXRsZS1kZXNrdG9wJylcclxuICAgIG5hdk1vYmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZfX21vYmlsZScpXHJcbiAgICBidXJnZXJCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnVyZ2VyLWJ0bicpXHJcbiAgICBuYXZNb2JpbGVFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYXZfX2l0ZW0tLW1vYmlsZScpXHJcbiAgICBidXJnZXJCYXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1cmdlci1idG5fX2JhcnMnKVxyXG4gICBcclxuXHJcblxyXG59XHJcbmNvbnN0IHdpbmRvd0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcclxuLy9GVU5DVElPTlNcclxuXHJcbmNvbnN0IGhhbmRsZUJ1cmdlciA9ICgpID0+IHtcclxuICAgIGJ1cmdlckJ0bi5jbGFzc0xpc3QudG9nZ2xlKCdidXJnZXItYWN0aXZlJylcclxuICAgIFxyXG59XHJcblxyXG5jb25zdCBoYW5kbGVDb2xvckJ1cmdlciA9ICgpID0+IHtcclxuICAgIGNvbnN0IHRvcCA9IHdpbmRvd0hlaWdodCArIDYwO1xyXG5cclxuICAgXHJcbiAgICAgICAgICBpZihzY3JvbGxZID49IHRvcCkge1xyXG4gICAgICAgIGJ1cmdlckJhcnMuY2xhc3NMaXN0LmFkZCgnYmxhY2stYmFycy1jb2xvcicpXHJcbiAgICB9ZWxzZSB7XHJcbiAgICAgICAgYnVyZ2VyQmFycy5jbGFzc0xpc3QucmVtb3ZlKCdibGFjay1iYXJzLWNvbG9yJylcclxuICAgIFxyXG59ICBcclxuICAgIFxyXG5cclxuXHJcbn1cclxuXHJcblxyXG5jb25zdCBzaG93TmF2ID0gKCkgPT4ge1xyXG4gICAgbmF2TW9iaWxlLmNsYXNzTGlzdC50b2dnbGUoJ25hdkFjdGl2ZScpXHJcbiAgICBcclxufVxyXG5cclxuY29uc3QgaGFuZGxlQ2xvc2VOYXZNb2JpbGUgPSAoKSA9PiB7XHJcbiAgICAgICBcclxuICAgICAgICAgICAgbmF2TW9iaWxlLmNsYXNzTGlzdC5yZW1vdmUoJ25hdkFjdGl2ZScpXHJcbiAgICBidXJnZXJCdG4uY2xhc3NMaXN0LnJlbW92ZSgnYnVyZ2VyLWFjdGl2ZScpXHJcbiAgICAgICAgXHJcbiAgICB9XHJcbiAgICBcclxuXHJcblxyXG5mdW5jdGlvbiBTaG93QWNjb3JkZW9uKCkge1xyXG4gICAgaWYgKHRoaXMubmV4dEVsZW1lbnRTaWJsaW5nLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlQWNvcmRlb24nKSkge1xyXG4gICAgICAgIHRoaXMubmV4dEVsZW1lbnRTaWJsaW5nLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZUFjb3JkZW9uJylcclxuICAgICAgICB0aGlzLnF1ZXJ5U2VsZWN0b3IoJy5hY29yZGVvbi1zcGFuJykudGV4dENvbnRlbnQgPSAnKydcclxuXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNsb3NlQWxsQWNjb3JkaW9uKCk7XHJcbiAgICAgICAgdGhpcy5uZXh0RWxlbWVudFNpYmxpbmcuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlQWNvcmRlb24nKVxyXG4gICAgICAgIHRoaXMucXVlcnlTZWxlY3RvcignLmFjb3JkZW9uLXNwYW4nKS50ZXh0Q29udGVudCA9ICctJ1xyXG5cclxuICAgIH1cclxuXHJcbn1cclxuXHJcblxyXG5jb25zdCBjbG9zZUFsbEFjY29yZGlvbiA9ICgpID0+IHtcclxuICAgIGFjY29yZGVvbkVsZW1lbnRzLmZvckVhY2goZWwgPT4ge1xyXG4gICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZUFjb3JkZW9uJylcclxuICAgIH0pXHJcblxyXG4gICAgY29uc3QgYWNjb3JkZW9uQnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY29yZGVvbi1idG4nKTtcclxuICAgIGFjY29yZGVvbkJ0bnMuZm9yRWFjaChidG4gPT4ge1xyXG4gICAgICAgIGNvbnN0IHNwYW4gPSBidG4ucXVlcnlTZWxlY3RvcignLmFjb3JkZW9uLXNwYW4nKTtcclxuICAgICAgICBzcGFuLnRleHRDb250ZW50ID0gJysnO1xyXG4gICAgfSk7XHJcblxyXG59XHJcblxyXG5jb25zdCBoYW5kbGVTaG93QWJvdXQgPSAoKSA9PiB7XHJcblxyXG4gICAgY29uc3QgYWJvdXRTZWN0aW9uVG9wID0gYWJvdXRTZWN0aW9uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcclxuXHJcblxyXG4gICAgaWYgKGFib3V0U2VjdGlvblRvcCA8PSB3aW5kb3dIZWlnaHQgKiAwLjYpIHtcclxuICAgICAgICBzZWN0aW9uSW1nLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZUFuaW1hdGlvbicpXHJcbiAgICAgICAgc2VjdGlvblRpdGxlLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZUFuaW1hdGlvbicpXHJcbiAgICAgICAgc2VjdGlvblRleHQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlQW5pbWF0aW9uJylcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2VjdGlvbkltZy5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmVBbmltYXRpb24nKVxyXG4gICAgICAgIHNlY3Rpb25UaXRsZS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmVBbmltYXRpb24nKVxyXG4gICAgICAgIHNlY3Rpb25UZXh0LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZUFuaW1hdGlvbicpXHJcbiAgICB9XHJcblxyXG5cclxufVxyXG5cclxuY29uc3QgaGFuZGxlU2hvd0hlcm8gPSAoKSA9PiB7XHJcbiAgICBjb25zdCBoZXJvU2VjdGlvblRvcCA9IGhlcm9TZWN0aW9uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcclxuXHJcbiAgICBpZiAoaGVyb1NlY3Rpb25Ub3AgPD0gd2luZG93SGVpZ2h0ICogMC43KSB7XHJcbiAgICAgICAgaGVyb1ZpZGVvcy5mb3JFYWNoKHZpZGVvID0+IHtcclxuICAgICAgICAgICAgdmlkZW8uY2xhc3NMaXN0LmFkZCgnYWN0aXZlVmlkZW8nKVxyXG4gICAgICAgIH0pXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGhlcm9WaWRlb3MuZm9yRWFjaCh2aWRlbyA9PiB7XHJcbiAgICAgICAgICAgIHZpZGVvLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZVZpZGVvJylcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuXHJcbmNvbnN0IGhhbmRsZVBvcnRmb2xpbyA9ICgpID0+IHtcclxuICAgIGlmICghcG9ydGZvbGlvU2VjdGlvbikgcmV0dXJuO1xyXG4gICAgY29uc3QgcG9ydGZvbGlvU2VjdGlvblRvcCA9IHBvcnRmb2xpb1NlY3Rpb24uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xyXG5cclxuICAgIGlmIChwb3J0Zm9saW9TZWN0aW9uVG9wIDw9IHdpbmRvd0hlaWdodCAqIDAuMykge1xyXG4gICAgICAgIHBvcnRmb2xpb1RpdGxlLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZVRpdGxlJylcclxuICAgICAgICBcclxuICAgICAgICBcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcG9ydGZvbGlvVGl0bGUuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlVGl0bGUnKVxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuY29uc3QgaGFuZGxlT2ZmZXIgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBvZmZlclNlY3Rpb25Ub3AgPSBvZmZlclNlY3Rpb24uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xyXG5cclxuICAgIGlmIChvZmZlclNlY3Rpb25Ub3AgPD0gd2luZG93SGVpZ2h0ICogMC40KSB7XHJcbiAgICAgICAgb2ZmZXJUaXRsZS5jbGFzc0xpc3QuYWRkKCdhY3RpdmVPZmZlclRpdGxlJylcclxuICAgICAgIFxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBvZmZlclRpdGxlLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZU9mZmVyVGl0bGUnKVxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuY29uc3QgaGFuZGxlUmV2aWV3ID0gKCkgPT4ge1xyXG4gICAgY29uc3QgcmV2aWV3U2VjdGlvblRvcCA9IHJldmlld1NlY3Rpb24uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xyXG5cclxuICAgIGlmIChyZXZpZXdTZWN0aW9uVG9wIDw9IHdpbmRvd0hlaWdodCAqIDAuNykge1xyXG4gICAgICAgIHJldmlld1RpdGxlLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZVJldmlld1RpdGxlJylcclxuICAgICAgICByZXZpZXdJbWcuY2xhc3NMaXN0LmFkZCgnYWN0aXZlUmV2aWV3SW1nJylcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV2aWV3VGl0bGUuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlUmV2aWV3VGl0bGUnKVxyXG4gICAgICAgIHJldmlld0ltZy5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmVSZXZpZXdJbWcnKVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBpZiAocmV2aWV3U2VjdGlvblRvcCA8PSB3aW5kb3dIZWlnaHQgKiAwLjQpIHtcclxuICAgIFxyXG4gICAgICAgIHJldmlld0ltZy5jbGFzc0xpc3QuYWRkKCdhY3RpdmVSZXZpZXdJbWcnKVxyXG5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIFxyXG4gICAgICAgIHJldmlld0ltZy5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmVSZXZpZXdJbWcnKVxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuXHJcblxyXG5jb25zdCBwcmVwYXJlRG9tRXZlbnRzID0gKCkgPT4ge1xyXG5cclxuICAgIC8vLy8vLy8vLy8gV1lXT8WBQU5JRSBGVU5LQ0pJIC8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiAgICBpZiAoZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoJ2hvbWUnKSl7XHJcbiAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBoYW5kbGVDb2xvckJ1cmdlcik7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBoYW5kbGVTaG93QWJvdXQpO1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgaGFuZGxlU2hvd0hlcm8pO1xyXG5cclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIGhhbmRsZVBvcnRmb2xpbyk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBoYW5kbGVSZXZpZXcpO1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgaGFuZGxlT2ZmZXIpOyAgXHJcbiAgICB9XHJcblxyXG4gICAgXHJcbiAgICBcclxuICAgIG5hdk1vYmlsZUVsLmZvckVhY2goYnRuID0+XHJcbiAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQ2xvc2VOYXZNb2JpbGUpXHJcbiAgICApXHJcbiAgICBidXJnZXJCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHsgaGFuZGxlQnVyZ2VyKCk7IHNob3dOYXYoKTsgfSlcclxuICAgIGFjY29yZGVvbkJ0bnMuZm9yRWFjaChidG4gPT5cclxuICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBTaG93QWNjb3JkZW9uLmJpbmQoYnRuKSlcclxuICAgIClcclxuXHJcblxyXG59XHJcblxyXG4vLy8vLyBHxYFPV05FIFdZV0/FgUFOSUUgRlVOS0NKSSAvLy8vL1xyXG5cclxuY29uc3QgbWFpbiA9ICgpID0+IHtcclxuICAgIHByZXBhcmVEb21FbGVtZW50cygpXHJcbiAgICBwcmVwYXJlRG9tRXZlbnRzKCk7XHJcblxyXG59XHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIG1haW4pIl19
